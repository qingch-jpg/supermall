(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e77a666e"],{1226:function(t,e,s){"use strict";s("8b3d")},"3b0e":function(t,e,s){},"3ba8":function(t,e,s){"use strict";s("ddf1")},"5bee":function(t,e,s){"use strict";s("ea5f")},"5cbe":function(t,e,s){t.exports=s.p+"img/recommend_bg.794b6628.jpg"},7964:function(t,e,s){"use strict";s("3b0e")},"8b3d":function(t,e,s){},b3d7:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper",attrs:{id:"home"}},[s("navbar",{staticClass:"home_nav"},[s("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物车")])]),s("TarControl",{directives:[{name:"show",rawName:"v-show",value:t.isTabControl,expression:"isTabControl"}],ref:"tarControl1",staticClass:"tar-control",attrs:{titles:["流行","新款","精品"]},on:{tabClick:t.tabClick}}),s("Scroll",{ref:"scroll",staticClass:"content",attrs:{probeType:3,pullUpLoad:!0},on:{scroll:t.contentScroll,pullingUp:t.loadMore}},[s("homeswiper",{attrs:{banners:t.banners},on:{SwiperImageLoad:t.SwiperImageLoad}}),s("recommendview",{attrs:{recommends:t.recommends}}),s("FeatureView"),s("TarControl",{ref:"tarControl2",attrs:{titles:["流行","新款","精品"]},on:{tabClick:t.tabClick}}),s("Goods",{attrs:{goods:t.ShowGodds}})],1),s("BackTop",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(e){return t.backClick(e)}}})],1)},o=[],a=s("2d71"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Swiper",t._l(t.banners,(function(e){return s("SwiperItem",[s("a",{attrs:{href:e.link}},[s("img",{attrs:{src:e.image,alt:""},on:{load:t.SwiperImageLoad}})])])})),1)},i=[],l=s("dc2c"),c={components:{Swiper:l["a"],SwiperItem:l["b"]},props:{banners:{type:Array,default(){return[]}}},data(){return{isLoad:!1}},methods:{SwiperImageLoad(){this.isLoad||(this.$emit("SwiperImageLoad"),this.isLoad=!0)}}},d=c,u=s("2877"),m=Object(u["a"])(d,n,i,!1,null,"76a063aa",null),p=m.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend"},t._l(t.recommends,(function(e){return s("div",{staticClass:"recommend_item"},[s("a",{attrs:{href:e.link}},[s("img",{attrs:{src:e.image,alt:""}}),s("div",[t._v(t._s(e.title))])])])})),0)},f=[],b={props:{recommends:{type:Array,defalut(){return[]}}}},g=b,v=(s("7964"),Object(u["a"])(g,h,f,!1,null,"316e70ca",null)),w=v.exports,C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"feature"},[r("a",{attrs:{href:""}},[r("img",{attrs:{src:s("5cbe"),alt:""}})])])}],T={},_=T,S=(s("3ba8"),Object(u["a"])(_,C,k,!1,null,"2e38f636",null)),$=S.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"TarContorl"},t._l(t.titles,(function(e,r){return s("div",{staticClass:"TarContorl_item",class:{active:r===t.currentIndex},on:{click:function(e){return t.itemClick(r)}}},[s("span",[t._v(t._s(e))])])})),0)},I=[],x={props:{titles:{type:Array,default(){return[]}}},data(){return{currentIndex:0}},methods:{itemClick(t){this.currentIndex=t,this.$emit("tabClick",t)}}},L=x,G=(s("1226"),Object(u["a"])(L,y,I,!1,null,"220387f8",null)),j=G.exports,O=s("c56f"),H=s("8d33"),B=s("3069"),E=s("1bab");function Y(){return Object(E["a"])({url:"/home/multidata"})}function M(t,e){return Object(E["a"])({url:"/home/data",params:{type:t,page:e}})}var A=s("eecb"),U={components:{navbar:a["a"],homeswiper:p,recommendview:w,FeatureView:$,TarControl:j,Goods:O["a"],Scroll:H["a"],BackTop:B["a"]},mixins:[A["a"]],data(){return{banners:[],recommends:[],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},currentType:"pop",isShowBackTop:!1,tabControl:0,isTabControl:!1,saveY:0}},created(){this.getHomeMultidata(),this.getHomeGoods("pop"),this.getHomeGoods("new"),this.getHomeGoods("sell")},activated(){this.$refs.scroll.scrollTo(0,this.saveY,0),this.$refs.scroll.refresh(),console.log("进入组件的位置"+this.saveY)},deactivated(){this.saveY=this.$refs.scroll.scroll.y,console.log("离开组件的位置"+this.saveY),this.$bus.$off("ItemImageLoad",this.ImgIistener)},mounted(){},computed:{ShowGodds(){return this.goods[this.currentType].list}},methods:{SwiperImageLoad(){this.tabControl=this.$refs.tarControl2.$el.offsetTop,console.log(this.tabControl)},tabClick(t){switch(t){case 0:this.currentType="pop";break;case 1:this.currentType="new";break;case 2:this.currentType="sell";break}this.$refs.tarControl1.currentIndex=t,this.$refs.tarControl2.currentIndex=t},contentScroll(t){this.isShowBackTop=-t.y>1e3,this.isTabControl=-t.y>this.tabControl},loadMore(){this.getHomeGoods(this.currentType)},getHomeMultidata(){Y().then(t=>{this.banners=t.data.banner.list,this.recommends=t.data.recommend.list})},getHomeGoods(t){let e=this.goods[t].page+1;M(t,e).then(e=>{console.log(e),this.goods[t].list.push(...e.data.list),this.goods[t].page+=1,this.$refs.scroll.finishPullUp()})},backClick(){this.$refs.scroll.scrollTo(0,0,300)}}},F=U,J=(s("5bee"),Object(u["a"])(F,r,o,!1,null,"558e9242",null));e["default"]=J.exports},ddf1:function(t,e,s){},ea5f:function(t,e,s){}}]);
//# sourceMappingURL=chunk-e77a666e.575bfc6e.js.map